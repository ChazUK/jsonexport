!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";e.exports.isFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},e.exports.isArray=function(e){return Array.isArray(e)},e.exports.isObject=function(e){return e instanceof Object},e.exports.isString=function(e){return"string"==typeof e},e.exports.isNumber=function(e){return"number"==typeof e},e.exports.isBoolean=function(e){return"boolean"==typeof e},e.exports.isDate=function(e){return e instanceof Date}},function(e,t,n){"use strict";e.exports="\n"},function(e,t,n){function r(){var e="";try{e=JSON.parse(m.value.replace(/((^\s)|(\s$))/g,""))}catch(e){return a(e)}const t=c();h(e,t,function(n,r){if(n)return a(n);d.style.display="none",y.value=r,i(),o(e,t)})}function o(e,t){const n=JSON.stringify(e),r=JSON.stringify(t),o="json="+n+"&options="+r,i=window.location.pathname+"?"+o;window.history.replaceState(null,null,i)}function i(){const e=y.value;var t=new Blob([e],{type:"text/comma-separated-values;charset=utf-8"});const n="jsonexport"+Date.now()+".csv",r=document.getElementById("downloadResult");r.href=URL.createObjectURL(t),r.download=n}function a(e){d.innerHTML=e.toString(),d.style.display=""}function s(){const e=[];Array.prototype.push.apply(e,document.getElementsByClassName("versionOutput")),e.forEach(function(e){e.innerHTML=f})}function u(e){var t={},n=document.createElement("a");n.href=e;for(var r=n.search.substring(1),o=r.split("&"),i=0;i<o.length;i++){var a=o[i].split("=");t[a[0]]=decodeURIComponent(a[1])}return t}function l(){const e=u(window.location.href);if(e.json)try{m.value=JSON.stringify(JSON.parse(e.json),null,2)}catch(t){m.value=e.json}else m.value=JSON.stringify(v,null,2);r()}function c(){const e={},t=[];return Array.prototype.push.apply(t,document.getElementById("options-wrap").getElementsByTagName("input")),t.forEach(function(t){"checkbox"===t.type?t.checked&&(e[t.getAttribute("name")]="false"!==t.value):t.value&&(e[t.getAttribute("name")]=t.value)}),e}function p(){const e=document.getElementById("options-wrap"),t=document.getElementById("options-template");e.innerHTML=t.innerHTML;const n=u(window.location.href);if(n.options){var r={};try{r=JSON.parse(n.options)}catch(e){return console.error("Bad url options parameters",e)}const o=[];Array.prototype.push.apply(o,e.getElementsByTagName("input")),Object.keys(r).forEach(function(e){const t=o.find(function(t){return t.getAttribute("name")===e});if(t){const n=r[e];"checkbox"===t.getAttribute("type")?n.toString()==t.value&&(t.checked=!0):t.value=n}})}}const f=n(3).version,h=n(4),d=document.getElementById("error-elm"),m=document.getElementById("json-textarea"),y=document.getElementById("output-textarea"),v=[{name:"Bob",lastname:"Smith",family:{name:"Peter",type:"Father"}},{name:"James",lastname:"David",family:{name:"Julie",type:"Mother"}},{name:"Robert",lastname:"Miller",family:null,location:[1231,3214,4214]},{name:"David",lastname:"Martin",nickname:"dmartin"}];window.update=r,window.downloadResult=downloadResult,function(){p(),s(),l()}()},function(e,t){e.exports={_from:"github:kauegimenes/jsonexport",_id:"jsonexport@3.1.0",_inBundle:!1,_integrity:"",_location:"/jsonexport",_phantomChildren:{},_requested:{type:"git",raw:"jsonexport@github:kauegimenes/jsonexport",name:"jsonexport",escapedName:"jsonexport",rawSpec:"github:kauegimenes/jsonexport",saveSpec:"github:kauegimenes/jsonexport",fetchSpec:null,gitCommittish:null},_requiredBy:["#DEV:/"],_resolved:"github:kauegimenes/jsonexport#dd841c34b0b835a19b0f6ef9b173e0d6ee888689",_spec:"jsonexport@github:kauegimenes/jsonexport",_where:"/Users/ackerapple/projects/services/jsonexport/gh-pages",author:{name:"KauÃª Gimenes"},bin:{jsonexport:"bin/jsonexport.js"},bugs:{url:"https://github.com/kauegimenes/jsonexport/issues"},bundleDependencies:!1,deprecated:!1,description:"Makes easy to convert JSON to CSV",devDependencies:{"babel-cli":"^6.26.0","babel-preset-env":"^1.7.0",benchmark:"^2.1.4",chai:"^4.1.2",jshint:"^2.11.1",mocha:"^7.1.2","npm-run-all":"^4.1.3","pre-commit":"^1.2.2"},homepage:"https://github.com/kauegimenes/jsonexport",keywords:["export","json","to","2","csv","converter","output","array","object","json-to-csv","json2csv","parse","stream","transform","big","files"],license:"Apache-2.0",main:"./lib",name:"jsonexport","pre-commit":["build:dist"],repository:{type:"git",url:"git+https://github.com/kauegimenes/jsonexport.git"},runkitExampleFilename:"examples/simple.js",scripts:{"build:dist":"npm-run-all build:dist:js build:dist:overwrite","build:dist:js":"babel lib --out-dir dist --presets=env","build:dist:overwrite":"node ./bin/builddist.js",lint:"jshint ./lib/index.js",test:"mocha tests/*.js tests/**/*.js"},version:"3.1.0"}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(5),i=n(10),a=(n(0),n(1));e.exports=function(){var e={headers:[],rename:[],headerPathString:".",rowDelimiter:",",textDelimiter:'"',arrayPathString:";",undefinedString:"",endOfLine:a||"\n",mainPathItem:null,booleanTrueString:null,booleanFalseString:null,includeHeaders:!0,fillGaps:!1,verticalOutput:!0,forceTextDelimiter:!1},t=void 0,n=void 0,s=void 0;if(3===arguments.length){var u=Array.prototype.slice.call(arguments);t=u[0],n=u[1],s=u[2]}else if(2===arguments.length){var l=void 0,c=Array.prototype.slice.call(arguments);t=c[0],l=c[1],"function"==typeof l?s=l:"object"===(void 0===l?"undefined":r(l))&&(n=l)}else{if(1!==arguments.length)return new i(new o(e));var p=Array.prototype.slice.call(arguments),f=p[0];if("object"===(void 0===f?"undefined":r(f))){var h=Object.keys(e),d=Object.keys(f),m=d.every(function(e){return h.includes(e)});d.length>0&&m?n=f:t=f}else t=f}var y=Object.assign({},e,n),v=new o(y);return t?new Promise(function(e,n){v.parse(t,function(t,r){return s?s(t,r):t?n(t):n?e(r):void 0})}):new i(v)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6),a=n(7),s=n(0),u=function(){function e(t){r(this,e),this._options=t||{},this._handler=new a(this._options),this._headers=this._options.headers||[],this._escape=n(9)(this._options.textDelimiter,this._options.rowDelimiter,this._options.forceTextDelimiter)}return o(e,[{key:"parse",value:function(e,t,n){return s.isArray(e)?t(null,this._parseArray(e,n)):s.isObject(e)?t(null,this._parseObject(e)):t(new Error("Unable to parse the JSON object, its not an Array or Object."))}},{key:"_checkRows",value:function(e){var t=null,n=[],r=function(e,n){return""===e||void 0===e?t[n]:e},o=!0,i=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value,c=this._headers.length-l.length;c>0&&(l=l.concat(Array(c).join(".").split("."))),t&&this._options.fillGaps&&(l=l.map(r)),n.push(l.join(this._options.rowDelimiter)),t=l}}catch(e){i=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return n}},{key:"_parseArray",value:function(e,t){var n=this;this._headers=this._headers||[];var r=[],o=void 0,a=function(e){var t=n._headers.indexOf(e);return-1===t&&(n._headers.push(e),t=n._headers.indexOf(e)),t};o=function(e){var t=[],o=function(e){return t.push(e.map(function(e){return null!=e?e:""}))},i=function(){return new Array(n._headers.length).fill(null)},s={},u=i(),l=!0,c=!1,p=void 0;try{for(var f,h=e[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var d=f.value,m=a(d.item);void 0!=u[m]&&(o(u),u=i()),s[m]=s[m]||0,n._options.fillTopRow&&s[m]<t.length?(t[s[m]][m]=n._escape(d.value),s[m]+=1):(u[m]=n._escape(d.value),s[m]+=1)}}catch(e){c=!0,p=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw p}}u.length>0&&o(u),r=r.concat(n._checkRows(t))};var s=!0,u=!1,l=void 0;try{for(var c,p=e[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=c.value;o(n._handler.check(f,n._options.mainPathItem,f,e))}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}return!t&&n._options.includeHeaders&&r.unshift(this.headers),i(r,n._options.endOfLine)}},{key:"_parseObject",value:function(e){var t=this,n=[],r=[],o=void 0,a=[[],[]];o=function(e){var r=e.value||0===e.value?e.value.toString():t._options.undefinedString;if(r=t._escape(r),t._options.verticalOutput){var o=[e.item,r];n.push(o.join(t._options.rowDelimiter))}else a[0].push(e.item),a[1].push(r)};for(var s in e){var u="";this._options.mainPathItem&&(u=this._options.mainPathItem+this._options.headerPathString),r=this._handler.check(e[s],u+s,s,e),r.forEach(o)}return this._options.verticalOutput||(n.push(a[0].join(this._options.rowDelimiter)),n.push(a[1].join(this._options.rowDelimiter))),i(n,this._options.endOfLine)}},{key:"headers",get:function(){var e=this,t=this._headers;return this._options.rename&&this._options.rename.length>0&&(t=t.map(function(t){return e._options.rename[e._options.headers.indexOf(t)]||t})),this._options.forceTextDelimiter&&(t=t.map(function(t){return""+e._options.textDelimiter+t+e._options.textDelimiter})),this._options.mapHeaders&&(t=t.map(this._options.mapHeaders)),t.join(this._options.rowDelimiter)}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(1),o=n(0);e.exports=function(e,t){if(!e||!o.isArray(e))throw new TypeError('Invalid params "rows" for joinRows. Must be an array of string.');return e.join(t||r||"\n")}},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(e instanceof l[t])return!0;switch(void 0===e?"undefined":i(e)){case"string":return"String"===t;case"boolean":return"Boolean"===t;case"number":return"Number"===t}return!1}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(){function e(t){r(this,e),this._options=t,this._options.typeHandlers=this._options.typeHandlers||{}}return a(e,[{key:"_setHeaders",value:function(e,t){var n=this;return t?e.map(function(e){return e.item=e.item?t+n._options.headerPathString+e.item:t,e}):e}},{key:"castValue",value:function(e,t,n,r){var i=this._options.typeHandlers;for(var a in i)if(o(e,a)){e=i[a].call(i,e,n,r);break}return e}},{key:"checkComplex",value:function(e,t){if(s.isDate(e))return[{item:t,value:(this._options.handleDate||this._handleDate)(e,t)}];if(s.isArray(e)){var n=this._handleArray(e,t);return this._setHeaders(n,t)}if(s.isObject(e)){var r=this._handleObject(e);return this._setHeaders(r,t)}return[{item:t,value:""}]}},{key:"check",value:function(e,t,n,r){switch(e=this.castValue(e,t,n,r),void 0===e?"undefined":i(e)){case"string":return[{item:t,value:this._handleString(e,t)}];case"number":return[{item:t,value:this._handleNumber(e,t)}];case"boolean":return[{item:t,value:this._handleBoolean.bind(this)(e,t)}]}return this.checkComplex(e,t)}},{key:"_handleObject",value:function(e){var t=[];for(var n in e){var r=e[n],o=this.check(r,n,n,e);t=t.concat(o)}return t}},{key:"_handleArray",value:function(e){for(var t,n=this,r=[],o=0;o<e.length;++o){var i=e[o],a=n.check(i,null,o,e);if(0!==a.length){var s=a[0];s.item||void 0===t?(a.length>0&&!s.item&&void 0===t&&(t=s),r=r.concat(a)):t.value+=n._options.arrayPathString+s.value}}return r}},{key:"_handleBoolean",value:function(e){return e?this._options.booleanTrueString||"true":this._options.booleanFalseString||"false"}},{key:"_handleString",value:function(e){return e}},{key:"_handleNumber",value:function(e){return e}},{key:"_handleDate",value:function(e){return e.toLocaleDateString()}}]),e}();e.exports=u;var l="undefined"==typeof window?t:window}).call(t,n(8))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t,n){if("string"!=typeof e)throw new TypeError('Invalid param "textDelimiter", must be a string.');if("string"!=typeof t)throw new TypeError('Invalid param "rowDelimiter", must be a string.');var r=new RegExp("\\"+e,"g"),o=e+e,i='"'===e?function(e){return e.indexOf(t)>=0||e.indexOf("\n")>=0||e.indexOf('"')>=0}:function(e){return e.indexOf(t)>=0||e.indexOf("\n")>=0};return function(t){return n&&(t=""+t),t.replace?(t=t.replace(r,o),(n||i(t))&&(t=e+t+e),t):t}}},function(e,t,n){"use strict";var r=function(e){throw new Error("jsonexport called without third argument as a callback and is required")};e.exports=r}]);